#!/bin/bash
export CLICOLOR=1
function scpup2 () 
{ 
	if [ ! $1 ]; then
		echo "Usage: scpup2 sourcefile destinationfile"
		return 1
	elif [ ! $2 ]; then
		DEST=$(basename $1)
	else
		DEST=$2
    fi
	echo root@vwebsk.kmundp.de:~/$DEST
	return $?
    scp -r $1 root@vwebsk.kmundp.de:~/$DEST
}

# FileSearch
function f() {
    if [ $# -eq 1 ]; then
        find . -iname "*$1*"
    fi

    #find $SEARCHPATH -iname "*$1*" ${@:2}
    
    PARAM=$1
    f_it() {
        find "$@" -iname "*$PARAM*"
    }

    shift
    for fname in "$@"; do
        f_it "$fname"
    done


}

function fp() {
    SP='./'
    PARAMCOUNT=2
    if [ -z $2 ]; then
        SP=$2
        PARAMCOUNT=3
        echo "true"
    fi
    echo "find $SP -iname \"*$1*\" ${@:PARAMCOUNT}"
    find $SP -iname "*$1*" ${@:PARAMCOUNT}
}

function param() {
    PC=2
    echo "1 ${@:1}"
    echo "2 ${@:2}"
    echo "3 ${@:3}"
    echo "$PC ${@:PC}"
	echo "$1" ${@:2} -R . 
}

function r() {
#    grep "$1" ${@:2} -R . 
    PARAM=$1
    r_it() {
        grep -irl $PARAM "$@"
    }

    shift
    for fname in "$@";
    do
        r_it "$fname"
    done


}

#mkdir and cd
function mkcd() { mkdir -p "$@" && cd "$_"; }

function opex() {
    xdg-open $1 &
}

#fmp() { 
#    for fname in "$@"; do 
#        fmp_helper "$fname";
#    done  
#}
#
#fmp_helper() { 
#    nautilus "$@"; 
#}

fmp ()  {

    fmp2() { 
        nautilus "$@"; 
    };

    for fname in "$@";
    do         
        fmp2 "$fname";         
    done; 
}


chparam ()  {
    chparam2() {
        echo "$@";
    };
      
    for fname in "$@";
    do
        chparam2 "$fname";
    done;
}

 
chparam_a ()  {
    echo "$@";
    echo $1
    shift
    echo "1: ${@:1}";
    echo "2: ${@:2}";
    echo "####"
    chparam_a2() {
        echo "$@";
    };
                         
    #for fname in `ls "${@:1}"`;
    for fname in `ls "$@"`;
    do
        echo "$fname"
        chparam_a2 "$fname";
    done;
 }

checkfile() {
    if [ $# -eq 2 ];then
        COUNT=$1
    else
        COUNT=45
    fi

    checkfile_it() {
        while true;
        do 
            clear;
            tail -$COUNT "$@";
            sleep 1;
        done
    }

    if [ $# -eq 2 ];then
        shift
    fi
    for fname in "$@"
    do
        checkfile_it "$fname"
    done

}

function lns() {

    ln -s `pwd`/$1 $2;

}

function lna() {
    PARAM1=$1
    PARAM2=$2

    lna_it() {
        for file in `ls $1`; 
        do
            ln -s  $1/$file $2/$file;
        done
    }

    lna_it "$PARAM1" "$PARAM2"
}

show() { 
    cat ~/unutmalist/$1; 
}

cheat() { 
    open http://borkware.com/quickies/one?topic=$1; 
}

r2() {
    PARAM=$1
    r2_it() {
        grep -irl $PARAM "$@"
    }
    shift
    callfunction r2_it "$@"
}

callfunction() {
    $1 $2
}

testfunc2 ()
{
    echo "$# parameters";
    echo Using '$*';
    for p in $*;
    do
        echo "[$p]";
    done;
    echo Using '"$*"';
    for p in "$*";
    do
        echo "[$p]";
    done;
    echo Using '$@';
    for p in $@;
    do
        echo "[$p]";
    done;
    echo Using '"$@"';
    for p in "$@";
    do
        echo "[$p]";
    done
}
